<!DOCTYPE html>
<!-- http://mondeca.com/index.php/en/any-place-en -->
<!-- http://www.iqmetrix.com/contact -->
<!-- http://bl.ocks.org/d3noob/5193723 -->
<!-- https://github.com/markmarkoh/datamaps/blob/master/README.md#using-custom-maps -->
<html>
	<head>
		<meta charset="utf-8">
		<link rel=stylesheet href="style.css">
	</head>
	<body>
        <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script>
        <script src="datamaps.world.min.js"></script>
        <div id="container" style="position: relative; width: 700px; height: 500px;"></div>
        <script>
            var iqmetrix_map = new Datamap({
                element: document.getElementById("container"),
                projection: 'mercator',
                fills: {
                    defaultFill: "#ABDDA4"
                },
            });

            // load and display the cities
            var locations = [{
                    radius: 25,
                    country: Canada,
                    city: Vancouver,
                    fillKey: '#8c564b',
                    latitude: 49.28667,
                    longitude: -123.11319,
                }, {
                    radius: 25,
                    country: USA,
                    city: Charlotte,
                    fillKey: '#8c564b',
                    latitude: 35.49483,
                    longitude: -80.85302,
                }
            ];

            iqmetrix_map.bubbles(locations, {
            });

            var colors = d3.scale.category10();

            window.setInterval(function() {
                iqmetrix_map.updateChoropleth({
                    USA: colors(Math.random() * 10),
                    RUS: colors(Math.random() * 100),
                    BRA: colors(Math.random() * 50),
                    CAN: colors(Math.random() * 50),
                    ZAF: colors(Math.random() * 50),
                    IND: colors(Math.random() * 50),
                });
            }, 4000);
        </script>
    </body>
</html>